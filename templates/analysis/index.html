{% extends "base.html" %}
{% load static %}
{% block content %}

<style>
.tasks_overview {
    padding: 20px;
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
}

.nav-pills > li > a {
    background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 12px;
    font-weight: 500;
    margin: 0 8px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.nav-pills > li > a:hover,
.nav-pills > li.active > a {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
}

.nav-pills > li > a i {
    font-size: 1.2em;
}

.tab-content {
    margin-top: 30px;
    padding: 20px;
    background: #f8fafc;
    border-radius: 12px;
}

.task-item {
    padding: 20px;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    margin-bottom: 20px;
}

.task-score {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 20px 0;
}

.task-score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.task-score-inner-circle {
    width: 60px;
    height: 60px;
    background: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: bold;
    color: #6366f1;
}

.task-result-filesize {
    display: flex;
    gap: 12px;
    align-items: center;
    margin-bottom: 10px;
    margin-top: 20px;
}

.task-result-filesize span:nth-child(1) {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
    border: 1px solid rgba(99, 102, 241, 0.3);
    padding: 8px 16px;
    border-radius: 8px;
    color: #6366f1;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 2px 4px rgba(99, 102, 241, 0.1);
}

.task-result-filesize span:nth-child(2) {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(168, 85, 247, 0.15) 100%);
    border: 1px solid rgba(99, 102, 241, 0.4);
    padding: 8px 16px;
    border-radius: 8px;
    color: #6366f1;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 2px 6px rgba(99, 102, 241, 0.15);
}

.task-result-filesize span:nth-child(3) {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.2) 0%, rgba(168, 85, 247, 0.2) 100%);
    border: 1px solid rgba(99, 102, 241, 0.5);
    padding: 8px 16px;
    border-radius: 8px;
    color: #6366f1;
    font-weight: 500;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(99, 102, 241, 0.2);
}

.task-result-filesize span:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(99, 102, 241, 0.25);
}
border: 1px dashed #6366f1;
    background: rgba(99, 102, 241, 0.05);
    padding: 6px 14px;
    border-radius: 4px;
}

.task-result-filesize span:nth-child(2) {
    border: 1px solid #6366f1;
    background: rgba(99, 102, 241, 0.1);
    padding: 6px 14px;
    border-radius: 4px;
}

.task-result-filesize span:nth-child(3) {
    border: 2px solid #6366f1;
    background: rgba(99, 102, 241, 0.15);
    padding: 6px 14px;
    border-radius: 8px;
}
.task-result {
    margin: 20px 0;
    padding: 30px;
    border-radius: 8px;
    width: 45%;
    box-sizing: border-box;
}

.task-result-filesize {
    display: flex;
    gap: 12px;
    align-items: center;
    margin-bottom: 10px;
    margin-top: 20px;
}
.task-result-labels {
    display: flex;
    gap: 12px;
    align-items: center;
    margin-bottom: 10px;
    margin-top: -14px;
}

.task-result-labels span {
    padding: 4px 12px;
    background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
    color: white;
    border-radius: 20px;
    font-size: 14px;
}

.task-environment {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: #f8fafc;
    border-radius: 8px;
    margin-bottom: 20px;
}

.task-environment-icon i {
    font-size: 1.2em;
    color: #6366f1;
}

.task-environment-name {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.task-info {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 40%;
}

.task-info > div {
    display: flex;
    align-items: center;
    gap: 10px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.task-info i {
    color: #6366f1;
    cursor: pointer;
    transition: color 0.3s ease;
}

.task-info i:hover {
    color: #a855f7;
}
</style>

<div class="tasks_overview">
    <nav class="navbar navbar-default" >
        <ul class="nav nav-pills nav-tabs">
            <li class="active">
                <a href="#reported" data-toggle="tab">
                    <i class="bi bi-check-circle"></i>
                    <span>分析完成</span>
                </a>
            </li>
            <li>
                <a href="#completed" data-toggle="tab">
                    <i class="bi bi-file-earmark-text"></i>
                    <span>未生成报告</span>
                </a>
            </li>
            <li>
                <a href="#pending" data-toggle="tab">
                    <i class="bi bi-hourglass"></i>
                    <span>未处理</span>
                </a>
            </li>
            <li>
                <a href="#running" data-toggle="tab">
                    <i class="bi bi-arrow-repeat"></i>
                    <span>正在分析</span>
                </a>
            </li>
            <li>
                <a href="#failed" data-toggle="tab">
                    <i class="bi bi-exclamation-triangle"></i>
                    <span>分析失败</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="tab-content">

        {% include "analysis/tasks/_reported.html" %}
        {% include "analysis/tasks/_pending.html" %}
        {% include "analysis/tasks/_completed.html" %}
        {% include "analysis/tasks/_running.html" %}
        {% include "analysis/tasks/_failed.html" %}

        <div class="task-item tab-pane fade in active" id="reported">
            <!-- 分析完成内容 tab -->
            <p>未生成报告内容</p>
        </div>

        <div class="task-item tab-pane fade" id="completed">
            <!--  未生成报告内容 tab -->
            <p>未生成报告 tab </p>
        </div>

        <div class="task-item tab-pane fade" id="pending">
            <!-- 未处理 tab -->
            <div class="task-score">
                <div class="task-score-circle" style="background: conic-gradient(#ff6b6b 9.00%,#e0e0e0 0);">
                    <div class="task-score-inner-circle">
                        <span>0.9</span>
                    </div>
                </div>
            </div>
            <div class="task-result">
                <div class="task-result-filesize">
                    <span>exe</span>
                    <span>1.5MB</span>
                    <span>2024年11月15日 18:15首次发现！</span>
                </div>
                <div class="task-result-labels">
                    <span>低危</span>
                </div>
            </div>
            <div class="task-environment">
                <div class="task-environment-icon">
                    <i class="bi bi-windows"></i>
                </div>
                <div class="task-environment-name">
                    <span>Windows 7 Professional 64 bit SP1</span>
                    <span>2024-11-15 18:15:54</span>
                </div>
            </div>
            <div class="task-info">
                <div class="task-info-filename">
                    <span>文件名:</span>
                    <span>inst (1).exe</span>
                    <i class="bi bi-clipboard2-plus"></i>
                </div>
                <div class="task-info-filetype">
                    <span> SHA1:</span>
                    <span>6c65f25e8c4d6e5b33c29d6e66e8bf625e821058</span>
                    <i class="bi bi-clipboard2-plus"></i>
                </div>
                <div class="task-info-md5">
                    <span> MD5:</span>
                    <a href="/analysis/14/">
                        <span>5a882f2b1d82c84b520c20b497581218</span>
                    </a>
                    <i class="bi bi-clipboard2-plus"></i>
                </div>
            </div>
            <p>未处理 tab示例</p>
        </div>

        <div class="task-item tab-pane fade" id="running">
            <!-- 正在分析 tab -->
            <p>正在分析 tab</p>
        </div>

        <div class="task-item tab-pane fade" id="failed">
            <!-- 分析失败 tab -->
            <p> 分析失败 tab</p>
        </div>


    </div>
</div>

{% endblock %}
